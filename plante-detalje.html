<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="robots" content="noindex">
    <link rel="stylesheet" href="style.css">
    <title>Planter</title>

</head>
<body>

    <header>

        <div class="hjem">
            
            <a href="index.html">
                <img src="" alt="" class="logo">
            </a>

        </div>

        <button class="toggle-btn">â˜°</button>

        <nav>
            <ul>
    
                <li>
                    
                    <a href="info.html">Info</a>
                
                </li>
    
                <li>
                    <a href="planter.html">Planter</a> 
                </li>
    
                <li>
                    <a href="om.html">Om os</a>
                </li>
    
            </ul>
        </nav>


    </header>

    <main>

        <article class="plante">
            <h2></h2>
            <img src="" alt="" />
            <p class="beskrivelse"></p>
        </article>

    </main>





    <footer>

    </footer>



    <script>

        const urlParams = new URLSearchParams(window.location.search);
        const id = urlParams.get("id");

        
        const url = "https://tema7-64ef.restdb.io/rest/planter/";
        let plante;
        
        const myHeaders = {
            "x-apikey": "61fcfa4d3f215f310a37be8a"
        }
        console.log("ID", id);

        document.addEventListener("DOMContentLoaded", loadJSON);

        async function loadJSON(){
            document.querySelector("button").addEventListener("click", tilbageTilGalleri);
            const JSONData = await fetch (url+id, {
                headers: myHeaders
                
            });

            plante = await JSONData.json();

            console.log(plante);
            visPlante();
        }

        function visPlante(){
            document.querySelector("h2").textContent = plante.navn ;

            document.querySelector(".plante img").src = "billeder/" + plante.billede;
            document.querySelector(".beskrivelse").textContent = plante.beskrivelse;
        }

        function tilbageTilGalleri (){
            history.back();
        }



    </script>
    
</body>
</html>